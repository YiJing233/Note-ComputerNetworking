# 王道考研-计算机网络课程笔记

## 第一章

### 计算机网络的概念

将分散的具有独立功能的计算机系统通过通信设备与线路连接，由功能完善的**软件**实现**资源共享**与**信息传递**

计算机网络是互联（互相联通）的、自治（没有主从关系）的计算机集合

### 计算机网络的功能

- 数据通信（连通性）
- 资源共享（硬件、软件、数据）
- 分布式处理（多台计算机各自承担统一工作的不同部分 Hadoop）
- 提高可靠性（保证可靠性）
- 负载均衡

### 计算机网络的组成

1. 硬件、软件、协议
2. 工作方式

* 边缘部分
  -  c/s方式
  -  p2p方式
* 核心部分
  -  通信子网（实现数据通信 应用层、表示层、会话层）
  -  资源子网（实现资源共享、数据处理 网络层、数据链路层、物理层）

### 计算机网络分类

1. 按分布范围分为：广域网WAN 城域网MAN 局域网WAN 个人局域网PAN
2. 按使用者分为公用网和专用网
3. 按交换技术分为 电路交换 报文交换 分组交换
4. 按拓扑结构分为总线型、星型、环形、网状型 常用于广域网
5. 按传输技术分为广播式网络（共享公共通信通道）和点对点网络（使用分组转发和路由选择机制）

### 常用计算机网络性能指标

1. 速率/数据传输率/比特率：传送位数的速率，b/s kb/s gb/s
2. 带宽：某个信号的频带宽度，从一个点到另一个点能够通过的最高数据率，单位与速率相同（起点的宽度）
3. 吞吐量：单位时间通过某个网络（或信道、接口）的数据量，单位b/s、kb/s 受到带宽和额定速率限制
4. 时延
   - 发送时延（传输时延）从第一个比特到最后一个比特发送的时间 数据长度/信道带宽
   - 传播时延 取决于链路长度和电磁波等介质的传播速度 信道长度/传播速率
   - 排队时延 等待输入输出链路可用的时间（因为堵塞等原因）
   - 处理时延 检查错误 找出口
   - 时延带宽积 传播时延 * 带宽
   - 往返时延RTT 从发送方发送开始到发送方收到接收方的确认经历的总时延
   - 利用率
     - 信道利用率 有数据通过的时间/所有时间
     - 网络利用率   信道利用率加权平均值

### 计算机分层结构

发送文件前的工作：

1. 发起通信的计算机必须将数据通信的通路进行激活
2. 告诉网络如何识别目的主机
3. 发起通信的计算机要查明目的主机是否开机
4. 发起通信的计算机要弄清楚对方计算机是否已经做好准备工作
5. 确保差错和意外可以解决

分层的基本原则：

1. 各层相互独立，完成相对独立的功能
2. 每层界面自然清晰易于理解
3. 结构上可以分割开，每层都由最合适的技术实现
4. 保持下层对上层的独立性，上层单向使用下层的服务

#### 认识分层结构

1. 实体： 第n层活动的元素称为n层实体，同一层的实体叫做对等实体
2. 协议： 为对等实体数据交换建立的规则、标准或约定
   - 语法：规定传输数据的格式 010101的形式 从哪里开始结束
   - 语义：规定要完成的功能 每一个分段的意思
   - 同步：规定各种操作的顺序 哪个位置先发哪个后发
3. 接口： （访问服务点SAP） 上层使用下层服务的入口
4. 服务： 下层为相邻上层提供的功能调用

#### 七层OSI（法定标准）

   目的：异构网络系统的互联互通

   7应用层//

   6表示层//资源子网（数据处理）

   5会话层//

   4传输层

   3网络层//

   2数据链路层//通信子网（数据通信）

   1物理层//
![N7575t.png](https://s1.ax1x.com/2020/07/01/N7575t.png)

数据的具体操作：

![N75q8f.png](https://s1.ax1x.com/2020/07/01/N75q8f.png)

##### 应用层

所有能和用户交互产生网络流量的程序

文件传输（ftp）
电子邮件（smtp）
万维网（http）

##### 表示层

处理两个通信系统中交换信息的表示方式（语法和语义）

比如：

1. 数据格式变换：从比特流变为图片/文字
2. 数据加密解密
3. 数据压缩与恢复

##### 会话层

向表示层的实体建立用户连接并有序地传输数据，是会话，建立同步（SYN）

比如：

1. 建立、管理、终止会话
2. 使用校验点可以使会话在通信失效时从校验点/同步点继续回复通信，实现数据同步（大文件长数据传输时加校验点）

协议：ADSP、ASP等

##### 传输层

负责主机两个单位的通信，即端到端的通信，传输单位时报文段或者用户数据报

1. 可靠传输、不可靠传输：有连接无连接
2. 差错控制：报文段丢失等情况
3. 流量控制：控制发送速度
4. 复用分用

协议：TCP、UDP

##### 网络层

主要任务是把分组从源端传到目的端，为分组交换网上的不同主机提供通信服务，单位是数据报

1. 路由选择：最佳路径
2. 流量控制
3. 差错控制
4. 拥塞控制

协议：IP、ARP等

##### 数据链路层

主要任务是把网络层传输下来的数据报组装成帧，传输单位是帧

1. 成帧（定义开始结束）
2. 差错控制 （帧错或位错）
3. 流量控制
4. 访问（接入）控制 控制信道的访问

协议：SDLC、STP

##### 物理层

在物理媒体上实现比特流的传输，透明传输

1. 定义接口特性
2. 定义传输模式（单工双工等）
3. 定义传输速率
4. 比特同步
5. 比特编码

协议：Rj45 802.3等

#### TCP/IP参考模型（事实标准）

1. 应用层 HTTP/FTP/DNS
2. 传输层 TCP/UDP
3. 网际层 IP
4. 网络接口层 Ethernet/ATM/Frame Relay

#### 两种模型的相同点与不同点

相同点：

1. 分层
2. 基于独立的协议栈概念
3. 实现异构网络互联

不同点：
![N77ssO.png](https://s1.ax1x.com/2020/07/01/N77ssO.png)

#### 5层模型

应用层、传输层、网络层、数据链路层、物理层

## 第二章 物理层

物理层解决如何在连接各种计算机的传输媒体上的传输数据比特流，而不是具体的传输媒体

物理层任务：确定与传输媒体有关的接口的一些特性

机械特性：物理连接的特性，比如接口形状、引线数目、引脚数量

电气特性：电压范围、阻抗匹配、传输速率和距离限制等

功能特性：电平表示的含义，信号线的用途

规程特性：物理线路的规程与时序的关系

### 数据通信

![N7bCgP.png](https://s1.ax1x.com/2020/07/01/N7bCgP.png)

数据通信指在不同计算机之间传输信息的二进制数01序列的过程

数据data：传送数据的实体，是有意义的符号序列

信号：数据的电气/电磁实现，是传输过程中的存在形式

- 数字信号/离散信号
- 模拟信号/连续信号

信源：发送和产生数据的源头

信宿：数据传输的终点

信道： 信号的传输媒介，一般用来表示传送信息的戒指，一个通信线路中往往有一条发送信道和一个接收信道。

#### 通信方式

1. 单工通信：只有一个方向，一条信道
2. 半双工通信：都可以发送或接收，但任何一方不能同时接受和发送，两条信道
3. 双工通信：双方同时，两条信道

#### 数据传输方式

- 串行传输：速度慢费用低，远距离
- 并行传输：速度快 费用高 近距离

另外分类：

- 同步传输（区块传输）：以一个数据区块为单位，先送出一个或多个同步字符，再发送整批数据
- 异步传输：将比特分成小组进行传送，可以是8位1个字符或更长，可以在任何时候发送，接收方不知道会在什么时候到达，传送数据时加一个起始位和中止位

#### 码元

码元是一个固定时长的信号波形（数据脉冲），代表离散数值的基本波形，是数字通信钟数字信号的计量单位，这个时长中的信号叫做k进制码元，时长位码元宽度，当离散状态有M个时为M进制码元

0101就是二进制码元，0、1分别代表不同状态

#### 速率

数据的传输速率，表示单位时间里传输的数据量，分为码元传输速率和信息传输速率

1. 码元传输速率（码元速率、波形速率、调制速率、符号速率等）单位时间传输码元的个数，单位是波特，1波特是数字通信系统每秒储阿生农户一个码元，速率与进制无关，一秒多少个码元
2. 信息传输速率（比特率、信息速率）单位时间内数字通信系统传输的二进制码元的个数（比特数），一秒多少个比特

#### 奈氏准则

失真：现实中的信道因为带宽受限、有噪声或干扰，波形发生了改变

影响失真程度的因素：

1. 码元传输速率
2. 信号传输距离
3. 噪声干扰
4. 传输媒体质量

码间串扰：接收端接收到的信号 波形失去了码元之间清晰界限的现象

奈式准则：在理想无噪声、带宽受限（低通）的情况下，为了避免码间串扰，极限码元传输速率为2W Baud，W是信道带宽，单位是Hz

1. 码元传输速率有上限
2. 信道频道越宽，信号高频分量越多，就可以用更高速率进行码元的有效传输
3. 奈氏准则给出了码元传输速率的限制，但没有给出信息传输速率的限制
4. 码元的传输速率收到奈氏准则的限制，因此要提高传输速率要设法使每个码元携带更多比特的信息量，因此需要使用多元制的调制方法

#### 香农定理

噪声随机产生，信号较强对噪声影响小，因此信噪比是重要指标

信噪比 = 信号平均功率/噪声平均功率 S/N 用分贝作为量度单位

信噪比（dB） = 10log10（S/N）

香农定理：带宽受限且有噪声的情况下，为了不产生误差，信息的数据传输速率有上限

信道的极限数据传输速率为 Wlog2（1+S/N）

1. 信噪比越大，极限传输速率越高
2. 对一定储阿生农户带宽和信噪比，信息传输速率的上限是确定的
3. 只要信息传输速率低于极限传输速率，那么就有某种方法可以达到无差错的传输
4. 香农定理得出的为极限信息传输速率，实际信道能达到的传输速率要低很多
5. 带宽w和信噪比S/N没有上限 那么极限信息传输速率也没有上限（不可能）

### 编码调制

基带信号：数字信号10直接用不同电压显示，再送到**数字信道**去传输，**来自信源的信号**，发出了直接要传输的信息的信号

宽带信号：将基带信号进行调制后形成的频分复用模拟信号，送到**模拟信道**上去传输（宽带传输），将基带信号进行载波调制后可以将频率范围搬移到较高频段在信道中传输

传输距离较近用基带传输，较远用宽带传输

数据-> 数字信号： 编码

数据-> 模拟信号： 调制

数字数据------->数字信号 编码 （数字发送器）

数字数据-------->模拟信号 调制 （调制器）

模拟数据--------->数字信号 编码 （PCM编码器）

模拟数据--------->模拟信号 调制 （放大器调制器）

#### 数字数据->数字信号

![NHC6I0.png](https://s1.ax1x.com/2020/07/01/NHC6I0.png)

![NHC5L9.png](https://s1.ax1x.com/2020/07/01/NHC5L9.png)

[![NHCTd1.png](https://s1.ax1x.com/2020/07/01/NHCTd1.png)](https://imgchr.com/i/NHCTd1)

![NHCbi6.png](https://s1.ax1x.com/2020/07/01/NHCbi6.png)

#### 数字数据->模拟信号

![NHCvsH.png](https://s1.ax1x.com/2020/07/01/NHCvsH.png)

#### 模拟数据->数字信号

[![NHPpdI.png](https://s1.ax1x.com/2020/07/01/NHPpdI.png)](https://imgchr.com/i/NHPpdI)

#### 模拟数据->模拟信号

![NHPASS.png](https://s1.ax1x.com/2020/07/01/NHPASS.png)

### 传输介质和分类

传输介质是数据传输系统中发送设备和接收设备之间的物理通路

传输媒体不是物理层，传输媒体在物理层下面。

传输介质包括：

1. 导向性传输介质，电磁波被导向沿着固体媒介（铜线/光纤）传播
2. 非导向型传输介质，自由空间，空气、海水等

#### 导向性传输介质——双绞线

双绞线是由两根一定规则并排绞合的相互绝缘的铜导线组成

绞合可以减少对相邻导线的电磁干扰，再加一层金属丝屏蔽层就是屏蔽双绞线，模拟传输和数字传输都可以用，模拟传输用放大器放大衰减的信号，数字传输要用中继器将失真的信号整形

#### 导向性传输介质——同轴电缆

导体铜质芯线、绝缘层、网状编织屏蔽层和塑料外壳组成，50Ω用于基带传输信号，是基带同轴电缆，75Ω主要用于传送宽带信号，称为宽带同轴电缆。

同轴电缆的抗干扰性强，适用于较高传输速率、距离更远的场景

#### 导向性传输介质——光纤

光导纤维的光脉冲表示通信，贷款远大于其他各种传输媒体的带宽

光纤主要由纤芯（实心）和包层构成，发生全反射，超低损耗 超远距离

单模光纤光源是导向性好的激光二极管，衰耗小，适合远距离

多模光纤使用多种传输光信号模式的发光二极管，容易失真，适合近距离

#### 非导向型传输介质

无线电波：穿透能力强，距离远
微波：固定方向，用于卫星通信，距离远覆盖广，时延高
红外线、激光：信号转为各自的信号传播

### 物理层设备

#### 中继器

对信号进行**再生和还原**，将衰减的信号重新放大，保持与原数据相同，增加信号传输的距离，延长网络的长度。

两端的网络部分是网段，适用于完全相同的两类网络的互连，两个网段速率要相同，数据发送只用于信号的电气部分，不管数据中是否有错误数据或不适用于网段的数据，两端可以连有相同媒体，也可以连不同媒体，中继器的两端的网段一定是相同的协议

#### 集线器（多口中继器）

功能与中继器相同，增加信号传输距离，延长网络的长度，不具备信号的定向传送能力，是一个共享式设备。

Boardcasting！
